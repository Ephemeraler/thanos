## 目标
搞清楚 Query Instant Codec 

## Query Instant Codec
### 创建函数(pkg/queryfrontend/queryrange_instant.go)
```go
NewThanosQueryInstantCodec
```

### 数据类型(pkg/queryfrontend/queryinstant_codec.go)
```go
type queryInstantCodec struct {
	partialResponse bool
}
```

### Request
#### 数据类型(pkg/queryfrontend/request.go)
```go
type ThanosQueryInstantRequest struct {
    
}
```

### Response
#### 数据类型(internal/cortex/querier/queryrange/queryrange.pb.go)
```go
type PrometheusInstantQueryResponse struct {

}
```

### Coding
#### 1. 时间进制
1 秒(second) = 1000 毫秒(millisecond) = 1000^2 微妙(microsecond) = 1000^3纳秒 (nanosecond)

Golang 中
time.Nanosecond = 1
time.Microsecond = 1000 * time.Nanosecond
time.Millisecond = 1000 * time.Microsecond
time.Second = 1000 * time.Millisecond

### 疑问
1. DecodeRequest 生成的 Request 中没有 context 控制. 但是, RoundTrip 最后执行请求的时候 http.Request 的 context 是哪里来的? 具体问题如下: 
   roundTripper.RoundTrip -- DecodeRequest --> handler.Do -- EncodeRequest
   答: 是 EncodeRequest 通过参数传入的. 其实就是最初 http.Request 的 Context. roundTripper.RoundTrip -- DecodeRequest --> handler.Do -- EncodeRequest.